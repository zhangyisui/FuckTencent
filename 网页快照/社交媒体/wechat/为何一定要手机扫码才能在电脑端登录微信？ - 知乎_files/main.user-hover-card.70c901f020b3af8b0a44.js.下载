(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{1009:function(e,t,n){"use strict";var a=n(23),r=n.n(a),o=n(28),i=n.n(o),c=n(27),l=n.n(c),s=n(29),u=n.n(s),d=n(19),p=n.n(d),f=n(34),h=n.n(f),b=n(41),m=n.n(b),v=n(3),g=n.n(v),O=n(0),j=n(13),y=n.n(j),w=n(148),C=n(33),R=n(8),k=["className","tag","name","value"],_=["className","divider","children","items"];function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}function B(e){var t=e.className,n=e.tag,a=e.name,r=e.value,o=h()(e,k),i="div";return n?i=n:o.href?i="a":o.onClick&&(i=C.c),Object(R.g)(i,m()({className:y()("NumberBoard-item",t)},o),Object(R.g)("div",{className:"NumberBoard-itemInner"},Object(R.g)("div",{className:"NumberBoard-itemName"},a),Object(R.g)("strong",{className:"NumberBoard-itemValue",title:r},Object(w.formatNumber)(r))))}var S=function(e){l()(n,e);var t=N(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.divider,a=e.children,r=e.items,o=h()(e,_);return Object(R.g)("div",m()({className:y()("NumberBoard",t,{"NumberBoard--divider":n})},o),a||r.map((function(e){return Object(R.g)(B,m()({key:e.name},e))})))}}]),n}(O.Component);S.propTypes={divider:g.a.bool},S.defaultProps={divider:!1},S.Item=B;var E=S;t.a=E},1011:function(e,t,n){var a,r,o;r=[t],void 0===(o="function"==typeof(a=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var a={get passive(){n=!0}};window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}function r(e){return l.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))}function o(e){var t=e||window.event;return!!r(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)}function i(){setTimeout((function(){void 0!==p&&(document.body.style.paddingRight=p,p=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)}))}var c="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints),l=[],s=!1,u=-1,d=void 0,p=void 0;e.disableBodyScroll=function(e,a){if(c){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!l.some((function(t){return t.targetElement===e}))){var i={targetElement:e,options:a||{}};l=[].concat(t(l),[i]),e.ontouchstart=function(e){1===e.targetTouches.length&&(u=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,a,i,c;1===t.targetTouches.length&&(a=e,c=(n=t).targetTouches[0].clientY-u,r(n.target)||(a&&0===a.scrollTop&&0<c||(i=a)&&i.scrollHeight-i.scrollTop<=i.clientHeight&&c<0?o(n):n.stopPropagation()))},s||(document.addEventListener("touchmove",o,n?{passive:!1}:void 0),s=!0)}}else{h=a,setTimeout((function(){if(void 0===p){var e=!!h&&!0===h.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(p=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")}));var f={targetElement:e,options:a||{}};l=[].concat(t(l),[f])}var h},e.clearAllBodyScrollLocks=function(){c?(l.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),s&&(document.removeEventListener("touchmove",o,n?{passive:!1}:void 0),s=!1),l=[],u=-1):(i(),l=[])},e.enableBodyScroll=function(e){if(c){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,l=l.filter((function(t){return t.targetElement!==e})),s&&0===l.length&&(document.removeEventListener("touchmove",o,n?{passive:!1}:void 0),s=!1)}else(l=l.filter((function(t){return t.targetElement!==e}))).length||i()}})?a.apply(t,r):a)||(e.exports=o)},1015:function(e,t,n){"use strict";n.r(t);var a=n(32),r=n(14),o=n(15),i=n(17),c=n(18),l=n(7),s=n(1),u=n(0),d=n(21),p=n(20),f=n(48),h=n(58),b=n(26),m=n(1579),v=n(1247),g=n(141),O=n.n(g),j=n(1016),y=n(434),w=n(60),C=n(1009),R=n(1070),k=n(437),_=n(221),N=n(1130),B=n(153),S=n(30),E=n(945),M=n(150),x=n(950),P=n(1154),T=["toggler","user","id","urlToken","mutuals","onRef","currentUser"];function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var z=function(e,t){return e.map((function(e){return t[e]})).slice(0,3)},A=Object(w.isBrowser)()?O()(z,(function(e,t){return"".concat(e.join(","),"-").concat(t.length)})):z,L=[];var U=function(e){return Object(s.b)(h.Flex,Object.assign({css:{"&:not(:last-child)":{marginBottom:8}}},e))},I=function(e){Object(i.a)(n,e);var t=F(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1,childModalOpened:!1},e.loadUserProfile=function(){var t=e.props,n=t.id,a=t.urlToken;return(0,t.dispatch)(Object(B.j)(a||n,!1))},e.load=function(){var t=e.props,n=t.id;(t.urlToken||n)&&(e.setState({isLoading:!0}),e.loadUserProfile().then((function(){return e.setState({isLoading:!1})})),e.loadMutuals())},e.loadMutuals=function(){var t=e.props,n=t.user,a=t.dispatch,r=t.mutuals,o=void 0===r?[]:r,i=t.currentUser;return!o.length&&i&&n?a(Object(B.g)(n.urlToken,"mutuals")):Promise.resolve()},e.track=function(){var t=e.props.user;e.hoverCardElement&&t&&(b.a.setModule(e.hoverCardElement,{module:"UserItem"},{card:{content:{type:"User",member_hash_id:t.id}}}),b.a.trackCardShow(e.hoverCardElement))},e.handleOpen=function(){e.load(),e.track()},e}return Object(o.a)(n,[{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.toggler,i=r.user,c=r.id,l=r.urlToken,u=r.mutuals,d=void 0===u?[]:u,p=r.onRef,b=r.currentUser,g=Object(a.default)(r,T),O=i||{},w=O.isOrg,_=O.headline,B=O.avatarUrl,F=O.badge,z=O.badgeV2,A=O.answerCount,L=O.articlesCount,I=O.followerCount,H=O.employments,V=O.coverUrl,Z=O.gender,q=O.isFollowed,W=O.isFollowing,D=this.state,G=D.isLoading,Y=D.childModalOpened,J=d.length,K=Object(y.e)(z||F),Q=K.bestAnswerer,X=K.identity,$="//www.zhihu.com/".concat(w?"org":"people","/").concat(l||c),ee=b&&i&&b.urlToken===i.urlToken,te=J>0&&!ee,ne=H&&H[0];if(null!=X&&X.length)t=Object(s.c)(U,{children:[Object(s.b)("a",{href:"".concat(S.G,"/account/verification/intro"),target:"_blank",rel:"noopener noreferrer",css:{marginRight:".3em"},children:Object(s.b)(y.a,{})}),Object(s.b)("div",{children:X.slice(0,2).map((function(e){return e.description})).join("，")})]});else if(ne){var ae=ne.company,re=ne.job;t=Object(s.c)(U,{children:[(ae||re)&&Object(s.b)(h.Box,{as:"span",mr:".3em",color:"GBL05A",children:Object(s.b)(m.a,{text:!0,center:!0})}),Object(s.c)("div",{children:[ae&&ae.name,ae&&re&&Object(s.b)(h.Box,{display:"inline-block",width:"1px",height:"10px",mx:"8px",bg:"GBK09A"}),re&&re.name]})]})}else t=null;return Object(s.c)(R.b,Object.assign(Object.assign({toggler:o,onOpen:this.handleOpen,isLoading:G,globalClose:!Y,stickHover:Y,preventCloseOnTarget:!0},g),{},{onRef:function(e){p&&"function"==typeof p&&p(e),n.hoverCardElement=e},children:[Object(s.b)(R.a,{coverUrl:V,title:Object(s.c)("span",{css:{display:"flex"},children:[Object(s.b)(E.a,{user:i,noHoverCard:!0}),Object(s.b)(P.a,{isFollowed:q,isFollowing:W})]}),subtitle:_&&Object(s.b)(k.a,{inline:!0,html:_}),avatarUrl:B}),(t||Q||te)&&Object(s.c)("div",{children:[t,Boolean(null==Q||null===(e=Q.topics)||void 0===e?void 0:e.length)&&Object(s.c)(U,{children:[Object(s.b)("span",{css:{marginRight:".3em"},children:Object(s.b)(y.b,{})}),Object(s.c)("div",{children:[Object(s.b)(x.a,{expandable:!1,noHoverCard:!0,topics:Q.topics,user:i}),"的优秀答主"]})]}),te&&Object(s.c)(U,{color:"GBL05A",children:[Object(s.b)(h.Box,{mr:".3em",children:Object(s.b)(v.a,{text:!0,center:!0})}),Object(s.b)("div",{children:Object(s.c)(j.CJKSpace,{children:[d.map((function(e,t){return Object(s.c)(f.Link,{to:"//www.zhihu.com/".concat(w?"org":"people","/").concat(e.urlToken),target:"_blank",children:[e.name,t<J-1&&"、"]},t)})),"也关注了",S.P[Z]]})})]})]}),Object(s.c)("div",{children:[Object(s.c)(C.a,{children:[Object(s.b)(C.a.Item,{tag:M.a,preset:"plain",to:"".concat($,"/answers"),name:"回答",value:A,target:"_blank"}),Object(s.b)(C.a.Item,{tag:M.a,preset:"plain",to:"".concat($,"/posts"),name:"文章",value:L,target:"_blank"}),Object(s.b)(C.a.Item,{tag:M.a,preset:"plain",to:"".concat($,"/followers"),name:"关注者",value:I,target:"_blank"})]}),i&&!ee&&Object(s.b)(N.a,{className:"HoverCard-buttons",user:i,onModalOpen:function(){n.hoverCardElement.style.opacity="0",n.setState({childModalOpened:!0})},onModalClose:function(){return n.setState({childModalOpened:!1})}})]})]}))}}]),n}(u.PureComponent);t.default=Object(p.compose)(_.a,Object(d.connect)((function(e,t){var n=t.id,a=t.urlToken,r=e.entities,o=e.people.mutualsByUser,i=r.users[a]||Object.values(r.users).find((function(e){return e.id===n}))||t.user,c=o[a||n]||{ids:L,isFetching:!1},l=c.ids,s=c.isFetching;return{user:i,mutuals:A(l,r.users),isFetching:s}})))(I)},1016:function(e,t,n){e.exports=n(220),e.exports.CJKSpace=n(1180).CJKSpace},1023:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(14),r=n(15),o=n(17),i=n(18),c=n(7),l=n(1),s=n(0),u=n(3),d=n.n(u),p=n(96),f=n(33),h=n(430),b=n(1080),m=n(1107);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var g=function(e){Object(o.a)(n,e);var t=v(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.memberHashId,n=e.isModalShow,a=e.handleCloseModal;return Object(l.b)(p.b,{className:"ChatBoxModal",spread:!0,onClose:a,contentClassName:"ChatBoxModal-content",closeButton:Object(l.b)(f.c,{preset:"plain",className:"ChatBoxModal-closeButton",onClick:a,"aria-label":"关闭",children:Object(l.b)(h.a,{className:"ChatBoxModal-closeIcon"})}),children:n&&Object(l.b)(b.a,{handleReceiveMessage:this.handleReceiveMessage,children:Object(l.b)(m.a,{type:"default",senderId:t,className:"Chat-ChatBox"},t)})})}}]),n}(s.Component);g.propTypes={memberHashId:d.a.string,handleCloseModal:d.a.func,isModalShow:d.a.bool}},1025:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=Object.assign;function c(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","data-new-api":"Vip24","data-old-api":"VIP"},e),{className:"Zi Zi--VIP"+(e.className?" ".concat(e.className):"")}),r.a.createElement("g",{clipPath:"url(#clip0_2369_7529)"},r.a.createElement("path",{fill:"url(#paint0_linear_2369_7529)",d:"M21.351 4.858A3.115 3.115 0 0122.93 7.56v8.88a3.114 3.114 0 01-1.578 2.702l-7.774 4.44a3.184 3.184 0 01-3.154 0l-7.774-4.44a3.114 3.114 0 01-1.58-2.702V7.56c0-1.115.602-2.145 1.578-2.702l7.774-4.44a3.185 3.185 0 013.154 0l7.774 4.44zm-2.475 1.904L13.16 3.507a2.347 2.347 0 00-2.32 0L5.124 6.762a2.283 2.283 0 00-1.16 1.982v6.512c0 .817.442 1.573 1.16 1.982l5.716 3.255a2.347 2.347 0 002.32 0l5.716-3.255a2.283 2.283 0 001.16-1.982V8.744c0-.817-.442-1.573-1.16-1.982zm-9.874 4.13L12 5.76l2.998 5.131 2.466-2.12v6.343c0 .49-.4.886-.893.886H7.429a.89.89 0 01-.893-.887V8.771l2.466 2.12z"})),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear_2369_7529",x1:"3.479",x2:"21.813",y1:"4.463",y2:"21.357",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{stopColor:"#F2D9B6"}),r.a.createElement("stop",{offset:"1",stopColor:"#BF8B43"})),r.a.createElement("clipPath",{id:"clip0_2369_7529"},r.a.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))))}},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(2),r=n(6),o=n(31),i=n(30),c=Object(r.a)("user",["UPDATE_FOLLOWERS_PIN"]).UPDATE_FOLLOWERS_PIN;function l(e,t,n){return function(r,l){var s=l(),u=s.entities.users,d=s.currentUser,p=u[e];return r(n?Object(o.h)(i.W.blocked,"red"):{urlToken:d,userUrlToken:e,expect:t,API:{types:c,endpoint:"members/".concat(e,"/followers"),method:t?"POST":"DELETE"},UPDATE:{request:{users:Object(a.a)({},e,{isFollowing:t})},failure:{users:Object(a.a)({},e,p)},success:function(t){return{users:Object(a.a)({},e,t)}}}})}}},1070:function(e,t,n){"use strict";n.d(t,"b",(function(){return P})),n.d(t,"a",(function(){return d}));var a=n(3),r=n.n(a),o=n(0),i=n(13),c=n.n(i),l=n(219),s=n(8),u=function(e){var t=e.title,n=e.subtitle,a=e.attrInfo,r=e.coverUrl,o=e.avatarUrl,i=e.avatarFit;return Object(s.g)("div",null,r&&Object(s.g)("div",{className:"HoverCard-coverContainer"},Object(s.g)("img",{className:"HoverCard-cover",src:r,alt:"cover"})),Object(s.g)("div",{className:c()("HoverCard-titleContainer",{"HoverCard-titleContainer--noAvatar":!r})},o&&Object(s.g)(l.a,{size:68,className:"HoverCard-avatar",url:o,imgFit:i}),Object(s.g)("div",{className:c()("HoverCard-titleText",{"HoverCard-titleText--noAvatar":!o})},Object(s.g)("div",{className:"HoverCard-title"},t),n&&Object(s.g)("div",{className:"HoverCard-subtitle"},n)),a&&Object(s.g)("div",{className:"HoverCard-attrInfo"},a)))};u.propTypes={title:r.a.node,subtitle:r.a.node,attrInfo:r.a.node,coverUrl:r.a.string,avatarUrl:r.a.string,avatarFit:r.a.oneOf(["fill","contain","cover","none","scale-down"])};var d=u,p=n(34),f=n.n(p),h=n(23),b=n.n(h),m=n(28),v=n.n(m),g=n(27),O=n.n(g),j=n(29),y=n.n(j),w=n(19),C=n.n(w),R=n(41),k=n.n(R),_=n(70),N=n.n(_),B=n(440),S=n(174),E=["toggler","children","isLoading","onRef","size"];function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=C()(e);if(t){var r=C()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return y()(this,n)}}var x=function(e){O()(n,e);var t=M(n);function n(){var e;b()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={opened:!1,placement:null,loaderStyle:null},e.handleOpen=function(t){var n=t.arrowStyle,a=t.placement,r=e.props.onOpen;r&&r(),e.setState({opened:!0,placement:a,loaderStyle:n})},e.handleClose=function(){var t=e.props.onClose;t&&t(),e.setState({opened:!1})},e}return v()(n,[{key:"render",value:function(){var e=N()(this.props,["onOpen","onClose"]),t=e.toggler,n=e.children,a=e.isLoading,r=e.onRef,i=e.size,l=f()(e,E),u=this.state,d=u.opened,p=u.loaderStyle;return Object(s.g)(S.a,k()({noLayer:!0,toggler:Object(s.g)("div",null,t),toggleEvent:"hover",targetClassName:"HoverCard-popoverTarget",placement:"bottom-left",onOpen:this.handleOpen,onClose:this.handleClose},l),Object(s.g)("div",{className:c()("HoverCard-container",{"HoverCard-container--large":"large"===i}),ref:r},a&&Object(s.g)("div",{className:"HoverCard-loading",style:p},Object(s.g)(B.a,null)),Object(s.g)("div",{className:c()("HoverCard",{"HoverCard--isLoading":a||!d})},o.Children.map(n,(function(e){return e&&("string"==typeof e?Object(s.g)("div",{className:"HoverCard-item"},e):Object(o.cloneElement)(e,{className:c()("HoverCard-item",e.props.className)}))})))))}}]),n}(o.Component);x.propTypes={toggler:r.a.node.isRequired,isLoading:r.a.bool,onOpen:r.a.func,onClose:r.a.func,size:r.a.oneOf(["default","large"])},x.defaultProps={margin:16,align:"left",topExcludedHeight:60,size:"default"};var P=x},1113:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(17),i=n(18),c=n(7),l=n(1),s=n(3),u=n.n(s),d=n(0),p=n(21),f=n(20),h=n(13),b=n.n(h),m=n(1364),v=n(33),g=n(218),O=n(926),j=n(298),y=n(81),w=n(904),C=n(26),R=n(31),k=n(1023),_=n(30);function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var B=function(e){Object(o.a)(n,e);var t=N(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={modalShown:!1},e.handleSendMessage=function(){var t=e.props,n=t.onModalOpen,a=t.user.allowMessage,r=t.dispatch,o=t.doNotCheckAllowMessageSetting;a||void 0===a&&o?(e.setState({modalShown:!0}),n&&n()):r(Object(R.h)(_.W.blocked,"red")),C.a.trackEvent(Object(y.a)(e),{action:"Message",element:"Button",is_intent:!0})},e.handleCloseModal=function(){var t=e.props.onModalClose;e.setState({modalShown:!1}),t&&t()},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.preset,a=e.color,r=e.icon,o=e.label,i=e.className,c=e.tooltip,s=e.tooltipPreset,u=e.authRequired,d=this.state.modalShown,p="3d198a56310c02c4a83efb9f4a4c027e"===t.id;return Object(l.c)(l.a,{children:[Object(l.b)(v.c,{preset:n,color:a,className:i,icon:r,label:o,onClick:u(this.handleSendMessage,p?_.Y.serviceAccountMessage:_.Y.message),"data-tooltip":c,"aria-label":c,"data-tooltip-preset":s}),Object(l.b)(k.a,{memberHashId:t.id,handleCloseModal:this.handleCloseModal,isModalShow:d})]})}}]),n}(d.Component);B.propTypes={onModalOpen:u.a.func,onModalClose:u.a.func},B.defaultProps={preset:"outline",color:"grey",icon:w.a,label:"发私信",doNotCheckAllowMessageSetting:!1};var S=Object(f.compose)(g.a,Object(p.connect)())(B),E=n(153);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var x=function(e){Object(o.a)(n,e);var t=M(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={reportModalShown:!1},e.handleShieldUser=function(){var t=e.props,n=t.user.urlToken,a=t.updateUserBlocking,r=t.showNotification;a(n,!1).then((function(){return r("屏蔽已取消")}))},e}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.user,r=a.urlToken,o=a.isBlocking,i=a.isOrg,c=t.canShowMutualFollowStatus,s=t.className,u=t.buttonClassName,d=t.onModalOpen,p=t.onModalClose,f=t.authRequired,h=this.state.reportModalShown,g=b()("MemberButtonGroup",s);return o?Object(l.c)("div",{className:g,children:[Object(l.c)(v.c,{className:u,preset:"primary",color:"red",onClick:this.handleShieldUser,children:[Object(l.b)(m.a,{center:!0,text:!0})," 已屏蔽"]}),!i&&Object(l.c)(v.c,{className:u,onClick:f((function(){e.setState({reportModalShown:!0}),d&&d()}),_.Y.report),children:["举报用户",Object(l.b)(j.a,{shown:h,onClose:function(){e.setState({reportModalShown:!1}),p&&p()},type:"member",urlToken:r,zaEnabled:!0})]})]}):Object(l.c)("div",{className:g,children:[Object(l.b)(O.a,{id:r,type:n.type,gender:n.gender,isFollowing:n.isFollowing,isFollowed:n.isFollowed,canShowMutualFollowStatus:c,className:u,preset:O.a.PRESETS.primary}),Object(l.b)(S,{user:n,className:u,onModalOpen:d,onModalClose:p})]})}}]),n}(d.Component);x.propTypes={user:u.a.object.isRequired,buttonClassName:u.a.string,onModalOpen:u.a.func,onModalClose:u.a.func};t.a=Object(f.compose)(g.a,Object(p.connect)(null,{updateUserBlocking:E.o,showNotification:R.h}))(x)},1123:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=Object.assign;function c(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ExclamationCircleFill24","data-old-api":"ExclamationCircleFill24"},e),{className:"ZDI ZDI--ExclamationCircleFill24"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zM12 7c.552 0 1 .336 1 .75v5c0 .414-.448.75-1 .75s-1-.336-1-.75v-5c0-.414.448-.75 1-.75zm0 10.5a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z",fillRule:"evenodd",clipRule:"evenodd"}))}function l(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ExclamationCircleFill24","data-old-api":"Alert"},e),{className:"Zi Zi--Alert"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10zM12 7c.552 0 1 .336 1 .75v5c0 .414-.448.75-1 .75s-1-.336-1-.75v-5c0-.414.448-.75 1-.75zm0 10.5a1.25 1.25 0 100-2.5 1.25 1.25 0 000 2.5z",fillRule:"evenodd",clipRule:"evenodd"}))}},1130:function(e,t,n){"use strict";var a=n(1),r=n(3),o=n.n(r),i=n(13),c=n.n(i),l=n(20),s=n(48),u=n(33),d=n(26),p=n(218),f=n(1113),h=n(30);function b(e){var t=this,n=e.user,r=e.user.isOrg,o=e.className,i=e.buttonClassName,l=e.onModalOpen,s=e.onModalClose,p=e.currentUser,b=e.authRequired,m=e.router,v=c()("ProfileButtonGroup",o);return p&&n.urlToken===p.urlToken?Object(a.b)("div",{className:v,children:Object(a.c)(u.c,{color:"blue",className:i,onClick:b((function(){d.a.trackEvent(t,{action:"OpenUrl",element:"Link"},{link:{url:"".concat(location.origin,"/people/edit")}}),m.push("/people/edit")}),h.Y.editProfile),children:["编辑",r?"机构":"个人","资料"]})}):Object(a.b)(f.a,{user:n,canShowMutualFollowStatus:!0,className:v,buttonClassName:i,onModalOpen:l,onModalClose:s})}b.propTypes={user:o.a.object.isRequired,buttonClassName:o.a.string,onModalOpen:o.a.func,onModalClose:o.a.func},t.a=Object(l.compose)(s.withRouter,p.a)(b)},1154:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(17),i=n(18),c=n(7),l=n(1);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var u=function(e){Object(o.a)(n,e);var t=s(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isFollowed,n=e.isFollowing;return t?Object(l.b)("span",{className:"FollowStatus",children:n?"相互关注":"关注了你"}):null}}]),n}(n(0).Component);t.a=u},1180:function(e,t,n){"use strict";var a=n(0),r=n(668),o="element",i="text",c="empty",l="fragment",s=function(e,t){return function e(n){var r,s=n.node;return n.type=(r=s,a.isValidElement(r)?o:function(e){return"string"==typeof e||"number"==typeof e}(r)?i:function(e){return null==e||"boolean"==typeof e}(r)?c:Array.isArray(r)?l:void 0),n.type===o?n.children=a.Children.map(s.props.children,(function(t){return e({node:t,parent:n})})):n.type===l&&(n.children=a.Children.map(s,(function(t){return e({node:t,parent:n})}))),t(n),n}({node:e,parent:null})},u=function e(t,n){return[t].concat(null==(a=n(t))?[]:function(t){return e(t,n)}(a));var a},d=function(e){var t=!1;return e.reduce((function(e,n){if(e&&n&&r(String(e.node),String(n.node))){var a=(c=n,l=u(e,(function(e){return e.parent})),s=u(c,(function(e){return e.parent})),d=l.findIndex((function(e){return s.includes(e)})),[l[d],l[d-1]]);i=a[1],(o=a[0]).children.splice(o.children.indexOf(i)+1,0,{node:" "}),t=!0}var o,i,c,l,s,d;return n})),t},p=function(e){if(!e)return null;var t=[],n=s(e,(function(e){e.type===i&&""!==e.node&&t.push(e)}));return t.length&&d(t)?function e(t){return Array.isArray(t.children)?t.type===l?a.Children.map(t.children.map(e),(function(e){return e})):a.createElement(t.node.type,t.node.props,a.Children.map(t.children.map(e),(function(e){return e}))):t.node}(n):e},f=function(e){var t=e.component,n=e.children;return a.createElement(t,{children:p(n)})};f.defaultProps={component:a.Fragment||"span"},t.CJKSpace=f},1247:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=Object.assign;function c(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"UsersFill24","data-old-api":"Users"},e),{className:"Zi Zi--Users"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M4.5 8A5.5 5.5 0 0110 2.5 5.5 5.5 0 0115.5 8a5.5 5.5 0 01-5.5 5.5A5.5 5.5 0 014.5 8zm-.602 7.738c.965-1.075 2.418-1.574 4.19-1.325 1.263.178 2.56.178 3.825 0 1.77-.249 3.224.25 4.189 1.325.628.7 1.212 1.69 1.657 2.656.442.961.78 1.973.868 2.733.07.6-.424 1.023-.927 1.023H2.3c-.503 0-.997-.423-.927-1.023.088-.76.426-1.772.868-2.733.444-.967 1.029-1.956 1.657-2.656zm12.312-2.046a.743.743 0 01-.309-.24.747.747 0 01.081-.995c.338-.335.655-.827.92-1.37.441-.906.652-1.98.59-3.065-.036-.607-.135-1.289-.302-1.782a.75.75 0 011.42-.48c.228.672.34 1.503.379 2.176.076 1.327-.178 2.658-.739 3.809a7.991 7.991 0 01-.594 1.028c.89.564 1.632 1.316 2.22 2.083.768 1.002 1.308 2.075 1.585 2.907a.75.75 0 11-1.423.474c-.223-.668-.682-1.595-1.352-2.468-.667-.87-1.507-1.643-2.476-2.077z",fillRule:"evenodd",clipRule:"evenodd"}))}},1364:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=Object.assign;function c(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"ForbidFill24","data-old-api":"Ban"},e),{className:"Zi Zi--Ban"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M16.346 18.113a7.5 7.5 0 01-10.46-10.46l10.46 10.46zm1.767-1.767L7.654 5.886a7.5 7.5 0 0110.46 10.46zM22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10z",fillRule:"evenodd",clipRule:"evenodd"}))}},1579:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),o=n(12),i=Object.assign;function c(e){return r.a.createElement(o.a,i(i({width:"24",height:"24",viewBox:"0 0 24 24","data-new-api":"BriefcaseFill24","data-old-api":"Company"},e),{className:"Zi Zi--Company"+(e.className?" ".concat(e.className):"")}),r.a.createElement("path",{d:"M21.5 8.199V18.8c0 .939-.768 1.699-1.715 1.699H4.215c-.947 0-1.715-.76-1.715-1.699V8.2c0-.938.768-1.699 1.715-1.699h15.572A1.707 1.707 0 0121.5 8.199zM6.944 11.5a.75.75 0 000 1.5h10.112a.75.75 0 000-1.5H6.944z",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{d:"M6.75 5c0-.966.784-1.75 1.75-1.75h7c.966 0 1.75.784 1.75 1.75v2a.75.75 0 01-1.5 0V5a.25.25 0 00-.25-.25h-7a.25.25 0 00-.25.25v2a.75.75 0 01-1.5 0V5z",fillRule:"evenodd",clipRule:"evenodd"}))}},926:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(17),i=n(18),c=n(7),l=n(1),s=n(3),u=n.n(s),d=n(0),p=n(20),f=n(21),h=n(13),b=n.n(h),m=n(385),v=n.n(m),g=n(874),O=n(33),j=n(26),y=n(72),w=n(453),C=n(218),R=n(64),k=n(1028),_=n(121),N=n(130),B=n(231),S=n(381),E=n(443),M=n(191),x=n(470),P=n(30),T=n(82),F=n.n(T),z=function(e){return F()((function(t){var n=t.type,a=void 0===n?"":n,r=t.id,o=void 0===r?"":r;return a&&"people"===a||"rewardPeople"===a?Object(l.b)(y.b,{content:{type:"User",token:o,id:o},children:Object(l.b)(e,Object.assign({},t))}):Object(l.b)(e,Object.assign({},t))}),e)};function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var L={default:"default",primary:"primary"},U=function(e){Object(o.a)(n,e);var t=A(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).zaRef=Object(d.createRef)(),e.state={hovered:!1,isFetching:!1},e.handleMouseEnter=function(){e.setState({hovered:!0})},e.handleMouseLeave=function(){e.setState({hovered:!1})},e.toggleFollow=function(t){var n=e.props,a=n.isFollowing,r=n.type,o=n.id,i=n.zaId,c=n.useCustomZa,l=n.onFollowButtonClick,s=!a;if(!c){j.a.trackEvent(t.target,Object.assign({action:s?"Follow":"UnFollow",element:"Button",element_name:P.cb[r]},i&&{id:i}));var u=s?"关注":"取消关注";e.zaRef.current.trackEvent({action:s?"Follow":"UnFollow",eventType:"Click",elementLocation:{type:"Button",text:u},block:u})}var d="toggleFollow".concat(r.slice(0,1).toUpperCase()).concat(r.slice(1)),p=e.props[d](o,s);v()(p)&&(e.setState({isFetching:!0}),p.then((function(){e.setState({isFetching:!1}),l&&l()})).catch((function(){return e.setState({isFetching:!1})})))},e.handleToggleFollow=function(t){var n=e.props,a=n.authRequired,r=n.globalAuthRequired,o=n.ua;a?a(e.toggleFollow,P.Y.follow,!0)(t):o.Zhihu?e.toggleFollow(t):r(e.toggleFollow,P.Y.follow)(t)},e.handleClick=function(t){var n=e.props.onClick;n&&!n(t)||(e.handleToggleFollow(t),t.stopPropagation())},e}return Object(r.a)(n,[{key:"render",value:function(){var e,t,n,a=this.state.hovered,r=this.props,o=r.onRef,i=r.preset,c=r.entityHidden,s=r.type,u=r.isFollowing,d=r.isFollowed,p=r.gender,f=r.className,h=r.children,m=r.isMobile,v=r.disabled,j=r.canShowMutualFollowStatus;u?(e="primary",n=a?"取消关注":j&&d?"互相关注":"已关注",t={color:"grey"}):(e=i,t={color:"blue"},n=h||("people"===s||"rewardPeople"===s?[Object(l.b)(g.a,{className:"FollowButton-icon",text:!0,center:!0},"icon"),"关注".concat("number"==typeof p&&-1!==p?P.P[p]:"")]:"关注".concat(c?"":w.b[s])));var C=this.state.isFetching;return Object(l.c)(O.c,Object.assign(Object.assign(Object.assign({onRef:o,preset:e,onClick:this.handleClick,className:b()("FollowButton",f)},t),!m&&{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),{},{disabled:v||C,children:[Object(l.b)(y.d,{ref:this.zaRef}),n]}))}}]),n}(d.Component);U.propTypes={preset:u.a.oneOf(Object.values(L)),type:u.a.oneOf(w.a).isRequired,id:u.a.oneOfType([u.a.number,u.a.string]).isRequired,zaId:u.a.number,useCustomZa:u.a.bool},U.defaultTypes={preset:L.default},U.PRESETS=L;t.a=Object(p.compose)(z,Object(C.b)("globalAuthRequired"),Object(f.connect)((function(e){return{ua:e.env.userAgent,isMobile:Object(R.d)(e,{includeTablet:!0})}}),{toggleFollowQuestion:N.qb,toggleFollowCollection:B.d,toggleFollowColumn:S.e,toggleFollowRoundtable:E.m,toggleFollowTopic:M.M,toggleFollowPeople:_.b,toggleFollowRewardPeople:x.o,toggleFollowClub_mask:k.a}))(U)},933:function(e,t,n){"use strict";function a(e){var t=e.id,n=e.name,a=e.urlToken;return"0"===t||"知乎用户"===n?null:Boolean(a||t)}n.d(t,"a",(function(){return a}))},935:function(e,t,n){"use strict";var a=n(32),r=n(1),o=n(21),i=n(40),c=n(64),l=n(0),s=n(59),u=n.n(s),d=n(48),p=n(42),f=n(26),h=n(433),b=["isPinProfile","user","isPinDaily","onClick","children"];function m(e,t){var n=e.isPinProfile,o=e.user,c=e.isPinDaily,l=e.onClick,s=void 0===l?u.a:l,m=e.children,v=Object(a.default)(e,b),g=o.id,O=o.urlToken,j=o.isOrg,y=o.url,w=o.maskLevel,C="//www.zhihu.com/".concat(j?"org":"people","/").concat(O||g),R="zhihu://pin".concat(y,"/moments"),k=Object(i.d)((function(e){c&&"A"===e.target.nodeName&&f.a.trackEvent(e.target,{id:2065}),n&&(e.preventDefault(),Object(p.a)("base/openURL").dispatch({url:R})),w&&e.preventDefault(),s(e)}));return Object(r.b)(h.a,{zaText:!0,zaBlock:"User",children:Object(r.b)(d.Link,Object.assign(Object.assign({ref:t,to:C,href:C,target:"_blank",onClick:k,className:"UserLink-link","data-za-detail-view-element_name":"User"},v),{},{children:m}))})}var v=Object(l.forwardRef)(m),g=n(933),O=["user","noHoverCard","noLink","children"];t.a=function(e){var t=e.user,l=e.noHoverCard,s=e.noLink,u=e.children,d=Object(a.default)(e,O),p=t.id,f=t.urlToken,h=!Object(g.a)(t)||s,b=Object(o.useSelector)((function(e){return Object(c.d)(e,{includeTablet:!0})})),m=null!=l?l:b,j=Object(i.e)((function(){return Promise.all([n.e(0),n.e(9),n.e(97)]).then(n.bind(null,1015))}),!m);if(h)return u||null;var y=Object(r.b)(v,Object.assign(Object.assign({},d),{},{user:t,children:u}));return m||!j?y:Object(r.b)(j,{toggler:y,id:p,urlToken:f,user:t})}},945:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(32),r=n(1),o=n(13),i=n.n(o),c=n(434),l=n(933),s=n(949),u=n(930),d=n(935),p=["className","showVipIcon","vipIconZaViewName","user","noBadge","noVipBadge","children","badgeProps"];function f(e){var t,n,o=e.className,f=e.showVipIcon,h=e.vipIconZaViewName,b=e.user,m=void 0===b?{}:b,v=e.noBadge,g=e.noVipBadge,O=void 0!==g&&g,j=e.children,y=e.badgeProps,w=void 0===y?{}:y,C=Object(a.default)(e,p),R=Object(l.a)(m),k=R&&!v,_=(null===(t=m.vipInfo)||void 0===t?void 0:t.isVip)&&!O,N=R&&f&&(null===(n=m.vipInfo)||void 0===n?void 0:n.vipIcon);return Object(r.c)("span",{className:i()("UserLink",o),children:[Object(r.b)(d.a,Object.assign(Object.assign({},C),{},{user:m,children:j||m.name})),k&&Object(r.b)(c.c,Object.assign({css:{marginLeft:".3em"},isOrg:m.isOrg,badge:m.badgeV2||m.badge,linkify:!0,enableTooltip:!0},w)),_&&Object(r.b)(s.a,{css:{marginLeft:".3em"}}),N&&Object(r.b)(u.a,{vipIcon:m.vipInfo.vipIcon,zaViewName:h})]})}},949:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(14),r=n(15),o=n(17),i=n(18),c=n(7),l=n(1),s=n(0),u=n(13),d=n.n(u);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(i.a)(this,n)}}var f=function(e){Object(o.a)(n,e);var t=p(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return Object(l.b)("div",{className:d()("Badge",t),children:n})}}]),n}(s.Component),h=n(72),b=n(1025),m=n(965);function v(e){return Object(l.b)(h.a,Object.assign(Object.assign({as:"span",rel:"noopener noreferrer",zaBlock:"VipBadge",zaType:"Button",zaEventType:"Click",onClick:m.a.show},e),{},{children:Object(l.b)(b.a,{css:{height:"1em",width:"1em","&:hover":{cursor:"pointer"}},center:!0})}))}var g=Object(s.memo)(v);t.b=f},950:function(e,t,n){"use strict";var a=n(14),r=n(15),o=n(81),i=n(17),c=n(18),l=n(7),s=n(1),u=n(3),d=n.n(u),p=n(0),f=n(48),h=n(33),b=n(951),m=n(30);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(l.a)(e);if(t){var r=Object(l.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var g=function(e){Object(i.a)(n,e);var t=v(n);function n(){var e;return Object(a.a)(this,n),(e=t.call(this)).state={expanded:!1},e.onExpand=e.handleExpand.bind(Object(o.a)(e)),e}return Object(r.a)(n,[{key:"handleExpand",value:function(){this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.topics,n=e.user,a=e.ellipsisLength,r=e.expandable,o=e.privacyEnabled,i=e.showPrivacyPage,c=this.state.expanded,l="等 ".concat(t.length," 个"),u=t;return c||(u=t.slice(0,a)),0===t.length?null:Object(s.c)("span",{children:[u.map((function(e,t){return Object(s.c)("span",{children:[Object(s.b)(b.a,{showPrivacyPage:o&&i,authWrapperClassName:"ProfileMainPrivacy-authWrapper",authChild:Object(s.b)("span",{className:"ProfileMainPrivacy-pointerWrapper",children:e.name}),children:Object(s.b)(f.Link,{to:"".concat(m.F,"/").concat(n.isOrg?"org":"people","/").concat(n.urlToken,"/creations/").concat(e.id),children:e.name})}),t<u.length-1?"、":" "]},t)})),!c&&t.length>a&&(r?Object(s.b)(h.c,{preset:"plain",onClick:this.onExpand,children:l}):l),"话题"]})}}]),n}(p.Component);g.propTypes={topics:d.a.array.isRequired,user:d.a.object,ellipsisLength:d.a.number,expandable:d.a.bool,noHoverCard:d.a.bool,privacyEnabled:d.a.bool,showPrivacyPage:d.a.bool},g.defaultProps={ellipsisLength:3,expandable:!0,noHoverCard:!1},t.a=g},951:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n(0),o=n(446),i=function(e){var t=e.children,n=e.showPrivacyPage,i=e.authWrapperClassName,c=e.authChild,l=r.Children.only(t),s=c?r.Children.only(c):l;return n?Object(a.b)(o.a,{wrapperClassName:i,loginButton:s}):l}},958:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return s}));var a={general:"general",live:"live",publication:"publication",album:"album",special:"special",manga:"manga",course:"km_course"},r=(Object.assign(Object.assign({},a),{},{album_chapter:a.album,album_video_chapter:a.album,album_paid_column:a.album,paid_column_chapter:a.album,training:a.album,training_bundle:a.album,training_chapter:a.album,web_literature:a.publication,instabook:a.publication,ebook_audio:a.publication,publication_chapter:a.publication,publication_paid_magazine:a.publication,magazine_section:a.publication,paid_answer:a.album,assessment:a.album,playlet:a.album}),{live:"Live 讲座",album:"盐选专栏",album_paid_column:"盐选专栏",album_chapter:"盐选专栏",album_video_chapter:"盐选专栏",paid_column_chapter:"盐选专栏",publication:"电子书",publication_chapter:"电子书章节",instabook:"讲书",ebook_audio:"有声书",publication_paid_magazine:"盐选杂志",special:"专题",training:"训练营",training_bundle:"训练营",training_chapter:"训练营",web_literature:"网络文学",magazine_section:"杂志文章",manga:"漫画",course:"课程",class:"盐选专栏"}),o={live:"Live 讲座",album:"盐选专栏",album_chapter:"盐选专栏",album_video_chapter:"盐选专栏",album_paid_column:"盐选专栏",paid_column_chapter:"盐选专栏",assessment:"盐选专栏",training:"盐选专栏",training_bundle:"盐选专栏",training_chapter:"盐选专栏",publication:"电子书",publication_chapter:"电子书",instabook:"电子书",ebook_audio:"电子书",publication_paid_magazine:"电子书",special:"电子书",web_literature:"电子书",magazine_section:"电子书",manga:"电子书",course:"课程",class:"盐选专栏"},i={live:a.live,album:a.album,album_chapter:a.album,album_paid_column:a.album,album_video_chapter:a.album,training:a.album,training_bundle:a.album,training_chapter:a.album,paid_column_chapter:a.album,assessment:a.album,publication:a.publication,publication_chapter:a.publication,instabook:a.publication,ebook_audio:a.publication,publication_paid_magazine:a.publication,special:a.publication,web_literature:a.publication,magazine_section:a.publication,manga:a.publication,course:a.course},c=["live","album","album_chapter","album_video_chapter","paid_column_chapter","publication_chapter","magazine_section","album_paid_column","assessment","special"],l={PaidAnswer:"PaidAnswer",PaidPost:"PaidPost",Answer:"Answer",Post:"Post",Conversation:"Conversation"},s={paid_magazine:"PaidMagazine",paid_column:"PaidColumn",paid_column_chapter:"PaidColumn",album:"RemixAlbum",ebook:"EBook",instabook:"InstaBook",literature:"Literature",training:"Training",training_bundle:"TrainingBundle",special:"Special",ebook_audio:"AudioBook",live:"Live",publication:"EBook",web_literature:"EBook",album_chapter:"RemixAlbum",album_paid_column:"RemixAlbum",album_video_chapter:"RemixAlbum",manga:"Manga",free_conversation:"FreeConversation",event:"Event",Onebox:"OneBox",paid_answer:"Answer"}},959:function(e,t,n){var a=n(663),r=n(309),o=n(307),i=n(101),c=n(194),l=n(308),s=n(306),u=n(382),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(c(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(s(e))return!a(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},976:function(e,t,n){"use strict";var a=n(23),r=n.n(a),o=n(28),i=n.n(o),c=n(27),l=n.n(c),s=n(29),u=n.n(s),d=n(19),p=n.n(d),f=n(3),h=n.n(f),b=n(0),m=n.n(b),v=n(13),g=n.n(v),O=n(1011),j=n(149),y=n(95),w=n.n(y),C=n(177),R=n(8);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var _={top:10,left:20},N={top:0,left:0};var B=function(e){l()(n,e);var t=k(n);function n(){var e;r()(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).scrollerRef=m.a.createRef(),e.state={transEnded:!1,rect:null,translate:null,scale:null},e.getBoundingClientRect=function(){var t=e.props,n=t.img,a=t.data,r=n.getBoundingClientRect(),o=r.left,i=r.top,c=r.width,l=r.height,s=a.width,u=a.height,d={left:o,top:i,width:c,height:l},p=1;return s>u?(d.height=l,p=l/u,d.width=s*p,d.left=o+(c-d.width)/2,d.top=i+(l-d.height)/2):s<u&&(d.width=c,p=c/s,d.height=u*p,d.left=o+(c-d.width)/2,d.top=i+(l-d.height)/2),d},e.handleClick=function(t){t.stopPropagation(),e.setState({translate:null,scale:null})},e.handleTransitionEnd=function(){var t=e.state,n=t.translate,a=t.scale,r=e.props.onClose;n&&a?(e.setState({transEnded:!0}),e.scrollerRef.current.style.overflow="auto"):r()},e}return i()(n,[{key:"originalSrc",get:function(){return this.props.img.dataset.original}},{key:"currentSrc",get:function(){var e=this.props.img;return e.currentSrc||e.src}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.img,n=e.isOriginalUrl;this.originalSrc!==this.currentSrc&&((new Image).src=this.originalSrc);this.setState({rect:!1===n?this.getBoundingClientRect():t.getBoundingClientRect()})}},{key:"componentDidMount",value:function(){var e=this;Object(O.disableBodyScroll)(this.scrollerRef.current);var t=this.props.img;setTimeout((function(){return e.setState(Object.assign({},e.computeTransition(e.state.rect,{width:t.dataset.rawwidth||t.naturalWidth})))}))}},{key:"componentWillUnmount",value:function(){Object(O.enableBodyScroll)(this.scrollerRef.current)}},{key:"computeTransition",value:function(e,t){var n,a=this.props,r=a.transitionType,o=a.data,i=w()(navigator.userAgent).Mobile?N:_,c=i.top,l=i.left,s=window,u={left:0,top:0,width:s.innerWidth,height:s.innerHeight},d=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}}(u),p={width:u.width-2*l,height:u.height-2*c},f={},h={};return 1===r?(f.width=p.width>o.width?o.width:p.width,n=f.width/o.width,f.height=o.height*n,h={x:(p.width-f.width)/2+l,y:f.height<p.height?(p.height-f.height)/2+c:_.top}):(f.width=p.width>t.width?t.width:p.width,n=f.width/e.width,f.height=e.height*n,h={x:d.x-e.width/2,y:(f.height<p.height?d.y:_.top+f.height/2)-e.height/2}),{translate:h,scale:n}}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.img,r=n.isOriginalUrl,o=n.data,i=n.transitionType,c=n.className,l=this.state,s=l.translate,u=l.scale,d=l.rect,p=l.transEnded,f=s&&u,h=1,b="";if(1===i){var m=(w()(navigator.userAgent).Mobile?N:_).left;e=Math.min(window.innerWidth-2*m,o.width);var v=d.width/e;b=f?"translate(".concat(s.x,"px, ").concat(s.y,"px) scale(1) "):"translate(".concat(d.left,"px, ").concat(d.top,"px) scale(").concat(v,") "),h=f?1:0}else b=f?"translate(".concat(s.x,"px ,").concat(s.y,"px) scale(").concat(u,") "):"translate(".concat(d.left,"px,").concat(d.top,"px)");return Object(R.g)(C.a,null,Object(R.g)("div",{className:g()("ImageView",c,{"is-active":f}),style:{paddingBottom:_.top},onClick:this.handleClick},Object(R.g)("div",{className:"ImageView-inner",ref:this.scrollerRef},Object(R.g)("img",{ref:function(e){t.imgEl=e},src:!1===r?Object(j.imgUrl)(a.dataset.original,"r"):p&&this.originalSrc||this.currentSrc,className:g()("ImageView-img",{"ImageView-transformOrigin":1===i}),style:{width:e||d.width,transform:b,opacity:h},onTransitionEnd:this.handleTransitionEnd,alt:"preview"}))))}}]),n}(b.Component);B.propTypes={img:h.a.object.isRequired,onClose:h.a.func.isRequired};t.a=B}}]);
//# sourceMappingURL=main.user-hover-card.70c901f020b3af8b0a44.js.map